<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Tuto WebSocket avec Socket.io et NodeJS par PracticalProgramming.fr</title>
</head>

<body>
<H1>Hello</H1>
<ul id="list">
    <li>Premier élément</li>
</ul>

<label for="oui">Choisisez un nom</label>
<input type="text" id="oui">
<button onclick="handleclick()">Rejoindre une room</button>


<div>
    <span id="information"></span>
    <h3>Chat</h3>
    <label for="chat-input">

    </label><input id="chat-input" type="text">
    <button onclick="handleMessageSend()">Envoyer</button>

</div>


<!-- CREATION SOCKET -->
<script src="/socket.io/socket.io.js"></script>
<script>

    const socket = io();

    function handleclick(){
        socket.name = document.getElementById("oui").value
    }

    socket.on("connect", () => {
        console.log(socket)
        socket.emit('joinRoom', "oui");
    });

    function handleMessageSend(){
        socket.emit("room1 chat message", document.getElementById("chat-input").value)
    }



</script>

<!-- FIN CODE SOCKET -->
</body>
</html>